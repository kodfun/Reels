<main>
  <div class="container">
    <h1>Star Patterns in JavaScript<br>
      <small>&ldquo;One &#171;Nested For Loops&#187; To Rule Them All&rdquo;</small>
    </h1>
    <div class="conditions">
      <select id="conditions"></select>
    </div>
    <div class="lines">
      <label for="line">n:</label>
      <input type="range" id="line" min="1" max="9" value="9">
    </div>
    <div class="preview">
      <pre></pre>
    </div>
    <div class="code">
      <img src="code.png" alt="code">
      <div id="condition">false</div>
      <div id="n">9</div>
    </div>
    <div class="source-container">
      <div class="source">
        Try on https://codepen.io/kodfun/pen/gOBpoqw
      </div>
    </div>
  </div>
  <img src="logo.png" alt="logo" id="logo">
</main>

<style>
  @import url('https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Source+Code+Pro:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');

  html,
  body {
    margin: 0;
    height: 100vh;
    width: 56.25vh;
    margin: 0 auto;
    background-color: black;
  }

  body,
  select {
    font-family: 'Montserrat', sans-serif;
  }

  main {
    background-color: rgb(104, 104, 233);
    height: 100%;
    position: relative;
  }

  #logo {
    position: absolute;
    bottom: 0;
    right: 0;
    width: 8vh;
    margin: 2vh;
  }

  *,
  *::before,
  *::after {
    box-sizing: border-box;
  }

  .container {
    width: 80%;
    margin: 0 auto;
    padding-top: .01vh;
  }

  .code {
    position: relative;
    background-color: #1e1e1e;
    padding: 1.7vh;
    border-radius: 1vh;
  }

  img {
    width: 100%;
  }

  .conditions {
    margin-bottom: 1vh;
  }

  #n,
  #condition {
    position: absolute;
    top: 46%;
    left: 21.8%;
    background-color: rgb(170, 255, 113);
    color: rgb(10, 24, 1);
    font-family: 'Source Code Pro', monospace;
    font-size: 1.4vh;
    padding: .05vh .5vh;
    font-weight: 700;
    border-radius: .5vh;
  }

  #n {
    top: 19%;
    left: 25%;
  }

  .lines {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 1vh;
  }

  .lines>label {
    width: 10%;
    text-align: center;
    font-size: 3vh;
    margin-right: 1vh;
    background-color: #1e1e1e;
    color: white;
  }

  input[type=range] {
    height: 26px;
    -webkit-appearance: none;
    background-color: transparent;
    margin: 10px 0;
    width: 100%;
  }

  input[type=range]:focus {
    outline: none;
  }

  input[type=range]::-webkit-slider-runnable-track {
    width: 100%;
    height: 13px;
    cursor: pointer;
    box-shadow: 0px 0px 0px #000000;
    background: #AC51B5;
    border-radius: 25px;
    border: 0px solid #000101;
  }

  input[type=range]::-webkit-slider-thumb {
    box-shadow: 0px 0px 0px #000000;
    border: 0px solid #000000;
    height: 30px;
    width: 30px;
    border-radius: 50%;
    background: #65001C;
    cursor: pointer;
    -webkit-appearance: none;
    margin-top: -9px;
  }

  input[type=range]:focus::-webkit-slider-runnable-track {
    background: #AC51B5;
  }

  input[type=range]::-moz-range-track {
    width: 100%;
    height: 13px;
    cursor: pointer;
    box-shadow: 0px 0px 0px #000000;
    background: #AC51B5;
    border-radius: 25px;
    border: 0px solid #000101;
  }

  input[type=range]::-moz-range-thumb {
    box-shadow: 0px 0px 0px #000000;
    border: 0px solid #000000;
    height: 20px;
    width: 39px;
    border-radius: 7px;
    background: #65001C;
    cursor: pointer;
  }

  input[type=range]::-ms-track {
    width: 100%;
    height: 13px;
    cursor: pointer;
    animate: 0.2s;
    background: transparent;
    border-color: transparent;
    color: transparent;
  }

  input[type=range]::-ms-fill-lower {
    background: #AC51B5;
    border: 0px solid #000101;
    border-radius: 50px;
    box-shadow: 0px 0px 0px #000000;
  }

  input[type=range]::-ms-fill-upper {
    background: #AC51B5;
    border: 0px solid #000101;
    border-radius: 50px;
    box-shadow: 0px 0px 0px #000000;
  }

  input[type=range]::-ms-thumb {
    margin-top: 1px;
    box-shadow: 0px 0px 0px #000000;
    border: 0px solid #000000;
    height: 20px;
    width: 39px;
    border-radius: 7px;
    background: #65001C;
    cursor: pointer;
  }

  input[type=range]:focus::-ms-fill-lower {
    background: #AC51B5;
  }

  input[type=range]:focus::-ms-fill-upper {
    background: #AC51B5;
  }

  .preview {
    height: 25vh;
    background: url(browser.png) no-repeat center center;
    background-size: contain;
    margin-bottom: 1.5vh;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .preview>pre {
    font-family: 'Source Code Pro', monospace;
    background: #eee;
    width: 20vh;
    height: 20vh;
    margin-top: 5vh;
    font-size: 2.1vh;
    letter-spacing: .9vh;
    line-height: 1;
    padding: .5vh;
  }

  select {
    width: 100%;
    height: 4vh;
    font-size: 2vh;
    border: none;
    border-radius: .5vh;
    background-color: #1e1e1e;
    color: white;
    padding: 0 1vh;
    text-align: center;
    outline: none;
  }

  select {
    appearance: none;
    background: url("data:image/svg+xml;utf8,<svg fill='white' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/><path d='M0 0h24v24H0z' fill='none'/></svg>") #1e1e1e no-repeat calc(100% - 1vh) !important;
    /* Better placement regardless of input width */
  }

  h1 {
    font-size: 2.5vh;
    text-align: center;
    margin-bottom: 1.5vh;
    text-transform: uppercase;
    background-color: #1e1e1e;
    color: white;
    margin-top: 4vh;
    padding: 1vh;
  }

  h1>small {
    font-style: italic;
    text-transform: capitalize;
    margin-top: .5vh;
    display: inline-block;
    font-size: .75em;
    font-weight: 500;
  }

  .source-container {
    margin-top: 1vh;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .source {
    font-size: 1.5vh;
    text-align: center;
    margin-bottom: 2vh;
    background-color: #1e1e1e;
    color: white;
    padding: 1vh;
    margin: 0 auto;
  }
</style>

<script>
  const options = [
    { "CONDITION (KOŞUL)": "false" },
    { "SQUARE (KARE)": "true" },
    { "HORIZONTAL LINE (YATAY ÇİZGİ)": "i == 0" },
    { "VERTICAL LINE (DİKEY ÇİZGİ)": "j == 0" },
    { "DIAGONALS (KÖŞEGENLER)": "i == j || i + j == n - 1" },
    { "HOLLOW SQUARE (İÇİ BOŞ KARE)": "i * j == 0 || i == n - 1 || j == n - 1" },
    { "TRIANGLE (ÜÇGEN)": "i >= j" },
    { "INVERTED TRIANGLE (TERS ÜÇGEN)": "i <= j" },
    { "PYRAMID (PİRAMİT)": "i + j >= n - 1 && i >= j" }
  ];

  let n = 9;
  const conditions = document.getElementById("conditions");
  const condition = document.getElementById("condition");
  const line = document.getElementById("line");
  const codeN = document.getElementById("n");

  options.forEach(x => {
    const key = Object.keys(x)[0];
    const value = x[key];
    const option = document.createElement("option");
    option.value = value;
    option.text = key;
    conditions.appendChild(option);
  });

  conditions.onchange = (e) => {
    const value = e.target.value;
    condition.innerHTML = value;
    drawShape(value);
  };

  line.oninput = (e) => {
    const value = e.target.value;
    n = value;
    codeN.innerHTML = value;
    drawShape(conditions.value);
  };

  // for testing
  conditions.children[0].selected = true;
  conditions.dispatchEvent(new Event("change"));
  line.dispatchEvent(new Event("oninput"));

  function drawShape(con) {
    let res = "";
    for (let i = 0; i < n; i++) {
      for (let j = 0; j < n; j++) {
        res += (
          eval(con)
            ? "*" : " "
        );
      }
      res += "\n";
    }

    document.querySelector(".preview>pre").innerHTML = res;
  }
</script>